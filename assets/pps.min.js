(()=>{var i=(t,o)=>()=>(o||t((o={exports:{}}).exports,o),o.exports);var c=i(()=>{var s=!0;if(!s)return;var e={qId:"1",type:"text",question:"Do you want to answer this question?",desc:"This is some helper text",textInputPlaceholder:"Type whatever you want here!",textInputSubmit:"Submit",options:["Yes","No","Maybe","perchance"],ifttt:{event:"pps",key:"NOT_A_REAL_KEY"},thankYou:{title:"Thank You!",message:"Your feedback is appreciated"}},a=[`<style>.btn-primary {flex:auto;min-width: -webkit-max-content;min-width: -moz-max-content;min-width: max-content;background-image: linear-gradient(to top, var(--tw-gradient-stops));padding-left: 1rem;padding-right: 1rem;padding-top: 0.5rem;padding-bottom: 0.5rem;--tw-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);}.btn-primary:hover {background-image: linear-gradient(to bottom, var(--tw-gradient-stops));--tw-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, 0.06);box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);}.btn-primary:disabled {pointer-events: none;--tw-gradient-from: #525252;--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(82, 82, 82, 0));--tw-gradient-to: #737373;--tw-text-opacity: 1;color: rgba(249, 250, 251, var(--tw-text-opacity));}.btn-primary {--tw-gradient-from: #15803d;--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(21, 128, 61, 0));--tw-gradient-to: #16a34a;--tw-text-opacity: 1;color: rgba(249, 250, 251, var(--tw-text-opacity));}.btn-primary:hover {--tw-text-opacity: 1;color: rgba(255, 255, 255, var(--tw-text-opacity));}</style><h2>${e.question}</h2>`];window.Daybreak=window.Daybreak||{};window.Daybreak.ppsSubmit=async function(t){let o=t.innerText;t.id=="submit"&&(o=encodeURIComponent(t.closest(".content-box").querySelector("#freeText").value)),o!==""&&(d(t),await p(o),u(t))};function d(t){t.closest(".content-box").querySelectorAll(".btn-primary").forEach(o=>{o.disabled=!0})}async function p(t){await fetch(`https://maker.ifttt.com/trigger/${e.ifttt.event}/with/key/${e.ifttt.key}?value1=${e.qId}&value2=${t}`,{method:"GET",mode:"no-cors"})}function u(t){t.closest(".content-box").style.display="none",Shopify.Checkout.OrderStatus.addContentBox(`<h2>${e.thankYou.title}</h2>`,e.thankYou.message)}function n(t){Shopify.Checkout.OrderStatus.addContentBox(...t),setTimeout(()=>{document.querySelectorAll(".btn-primary").forEach(r=>{r.addEventListener("click",()=>window.Daybreak.ppsSubmit(r))})},100)}function w(){a.push([e.desc,'<div style="display: grid;width: 100%;grid-template-columns: repeat(2, minmax(0, 1fr));gap: 1rem;margin-top:.5rem">',...e.options.map(t=>`<button class="btn-primary">${t}</button>`),"</div>"].join("")),n(a)}function m(){a.push([e.desc,`<textarea type="text" id="freeText" style="display: block;padding: .5rem;margin-bottom: .5rem;margin-top: .5rem;border: gray solid 1px;width: 100%;box-sizing: border-box;"placeholder="${e.textInputPlaceholder}" rows="3"></textarea>`,`<button class="btn-primary" style="width:100%" id="submit">${e.textInputSubmit}</button>`,"</div>"].join("")),n(a)}if(e.type=="buttons")return w();if(e.type=="text")return m()});c();})();
