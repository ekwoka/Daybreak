@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
/* Custom Color Variables */
:root {
    --price-color: rgba(22, 101, 52, 1);
    --old-price: rgba(0,0,0,.6);
}

/* Custom Elements */
announcement-bar, announcement-message, order-bump, bump-title, bump-offer, bump-item, bump-info, email-capture, capture-main, capture-error, capture-existed, capture-success, floating-label, product-grid, product-card, card-info, card-price, swatch-wrapper, review-stars, toast-item, toast-icon, toast-content, toast-title, toast-message, cart-backdrop, cart-drawer, cart-item, cart-empty, cart-title, cart-container, item-details, quantity-control, remove-price, cart-footer, payment-options, payment-icons,cart-details, sub-total, estimated-shipping, cart-total, expected-discount, recently-viewed {
        @apply block
    }

new-price, old-price {
        @apply inline
    }

button:disabled {
        @apply pointer-events-none
    }

img, video {
        aspect-ratio: attr(width) / attr(height);
    }

*:focus-visible {
        outline: 2px auto black;
    }

main#MainContent {
    @apply gap-y-6 flex flex-col flex-nowrap justify-start mb-6
}

[x-cloak]{
    display: none;
}

}

@layer components {

    product-grid {
        @apply grid w-full gap-2 px-4 mx-auto;

        & product-card {
            @apply w-full min-h-[max-content]
        }

        & card-info {
            @apply flex flex-col items-center w-full gap-1 pt-2
        }
    }


    .btn-primary, .btn-secondary {
        @apply px-4 py-2 shadow-md min-w-max bg-gradient-to-t disabled:pointer-events-none disabled:from-truegray-600 disabled:to-truegray-500 disabled:text-gray-50 hover:shadow-inner hover:bg-gradient-to-b
    }

    .btn-primary {
        @apply from-cta-700 to-cta-600 text-gray-50  hover:text-white
    }

    .btn-secondary {
        @apply  from-gray-300 to-gray-200 text-gray-800 hover:text-gray-900
    }

    floating-label {
        @apply relative mt-4 shadow-md;

        & input[type="text"], & input[type="email"], & input[type="search"] {
            @apply w-full placeholder-transparent border-0 border-b-2 focus:outline-none focus:ring-0 focus:border-cta-600;
            
            &:placeholder-shown ~ label {
                @apply text-base text-gray-600 top-2
            }
            
            &:focus ~ label {
                @apply -top-5 text-gray-600 text-sm
            }

        }

        & label {
            @apply w-full absolute left-2 -top-5 text-gray-800 text-sm transition-all pointer-events-none
        }

        & ~ button {
            @apply md:mt-4
        }
    }

    svg.icon-tw {
        @apply inline-block w-6 h-6 mx-auto fill-current
    }

    svg.inline-spinner {
        @apply inline-block w-5 h-5 mx-2 text-white align-bottom animate-spin
    }

    new-price {
        @apply text-[color:var(--price-color)] font-medium
    }

    old-price {
        @apply pl-1 text-[color:var(--old-price)] line-through text-sm
    }

    img.force-tall {
        @apply object-cover;
        aspect-ratio: 5/6;
    }
    
    img.force-wide {
        @apply object-cover;
        aspect-ratio: 6/5;
    }

    progress.load-more {
        @apply appearance-none w-3/4 max-w-md h-4 rounded-sm
    }
    
    progress.load-more[value]::-webkit-progress-bar {
        @apply bg-gray-300 rounded-sm shadow-inner
    }
    
    progress.load-more[value]::-webkit-progress-value {
        @apply bg-gradient-to-tr from-cta-800 to-cta-500 rounded-sm transition-all duration-1000 ease-in-out
    }
    
    progress.load-more[value]::-moz-progress-bar {
        @apply bg-gradient-to-tr from-cta-800 to-cta-500 rounded-sm transition-all duration-1000 ease-in-out
    }

    payment-options > * {
        @apply mx-auto max-w-max
    }

    cart-details > * {
        @apply max-w-max ml-auto
    }

    cart-details :nth-child(odd) {
        @apply col-span-3
    }

    shipping-threshold > progress {
        @apply appearance-none w-full h-3 rounded-md
    }
    
    shipping-threshold > progress[value]::-webkit-progress-bar {
        @apply bg-gray-300 rounded-md
    }
    
    shipping-threshold.glass > progress[value]::-webkit-progress-bar {
        @apply shadow-inner
    }
    
    shipping-threshold > progress[value]::-webkit-progress-value {
        @apply rounded-md transition-all duration-1000 ease-in-out
    }
    
    shipping-threshold > progress[value]::-moz-progress-bar {
        @apply rounded-md transition-all duration-1000 ease-in-out
    }
    
    shipping-threshold.glass > progress[value]::-webkit-progress-value {
        @apply from-cta-800 to-cta-500
    }
    
    shipping-threshold.glass > progress[value]::-moz-progress-bar {
        @apply from-cta-800 to-cta-500
    }
    
    shipping-threshold.minimal > progress[value]::-webkit-progress-value {
        @apply bg-cta-600
    }
    
    shipping-threshold.minimal > progress[value]::-moz-progress-bar {
        @apply bg-cta-600
    }
    
    shipping-threshold.glass > progress[value]::-webkit-progress-value {
        @apply bg-gradient-to-tr
    }
    
    shipping-threshold.glass > progress[value]::-moz-progress-bar {
        @apply bg-gradient-to-tr
    }

}

@layer utilities {
    .scroll-lock {
        @apply overflow-hidden md:overflow-auto
    }
}